/*************************************************
**
** You're viewing a file in the SMAPI mod dump, which contains a copy of every open-source SMAPI mod
** for queries and analysis.
**
** This is *not* the original file, and not necessarily the latest version.
** Source repository: https://github.com/TehPers/StardewValleyMods
**
*************************************************/

{
  "$schema": "https://raw.githubusercontent.com/TehPers/StardewValleyMods/master/docs/TehPers.FishingOverhaul/schemas/contentPacks/content.schema.json",
  "AddFish": [
    // Add entries for all the legendary II fish after they have already been caught once and when they would no longer normally be catchable
    {
      // Son of crimsonfish
      "FishKey": "StardewValley:Object/898",
      "AvailabilityInfo": {
        "BaseChance": 0.02,
        "DepthMultiplier": 0.005,
        "IncludeLocations": ["Beach"],
        "Seasons": ["Summer"],
        "MinFishingLevel": 5,
        "FarmerPosition": {
          "X": {
            "GreaterThanEq": 82
          }
        },
        "MinDepth": 3,
        "When": {
          // The fish has been caught before
          "HasFlag": "TehPers.FishingOverhaul/sonOfCrimsonfishCaught",

          // The fish is no longer normally catchable
          "TehPers.FishingOverhaul/SpecialOrderRuleActive |contains=LEGENDARY_FAMILY": "false",

          // It is no longer on delay
          "HasConversationTopic |contains=TehPers.RecatchableLegendaries/sonOfCrimsonfishDelay": "false"
        }
      },
      "OnCatch": {
        "StartConversations": {
          // Delay for 7 days
          "TehPers.RecatchableLegendaries/sonOfCrimsonfishDelay": 7
        }
      }
    },
    {
      // Ms. angler
      "FishKey": "StardewValley:Object/899",
      "AvailabilityInfo": {
        "BaseChance": 0.02,
        "DepthMultiplier": 0.005,
        "IncludeLocations": ["Town"],
        "Seasons": ["Fall"],
        "MinFishingLevel": 3,
        "FarmerPosition": {
          "Y": {
            "LessThan": 15
          }
        },
        "When": {
          // The fish has been caught before
          "HasFlag": "TehPers.FishingOverhaul/msAnglerCaught",

          // The fish is no longer normally catchable
          "TehPers.FishingOverhaul/SpecialOrderRuleActive |contains=LEGENDARY_FAMILY": "false",

          // It is no longer on delay
          "HasConversationTopic |contains=TehPers.RecatchableLegendaries/msAngerDelay": "false"
        }
      },
      "OnCatch": {
        "StartConversations": {
          // Delay for 7 days
          "TehPers.RecatchableLegendaries/msAngerDelay": 7
        }
      }
    },
    {
      // Legend II
      "FishKey": "StardewValley:Object/900",
      "AvailabilityInfo": {
        "BaseChance": 0.02,
        "DepthMultiplier": 0.005,
        "IncludeLocations": ["Mountain"],
        "Seasons": ["Spring"],
        "Weathers": ["Rainy"],
        "WaterTypes": ["PondOrOcean"],
        "MinFishingLevel": 10,
        "MinDepth": 4,
        "When": {
          // The fish has been caught before
          "HasFlag": "TehPers.FishingOverhaul/legendIICaught",

          // The fish is no longer normally catchable
          "TehPers.FishingOverhaul/SpecialOrderRuleActive |contains=LEGENDARY_FAMILY": "false",

          // It is no longer on delay
          "HasConversationTopic |contains=TehPers.RecatchableLegendaries/legendIIDelay": "false"
        }
      },
      "OnCatch": {
        "StartConversations": {
          // Delay for 7 days
          "TehPers.RecatchableLegendaries/legendIIDelay": 7
        }
      }
    },
    {
      // Radioactive carp
      "FishKey": "StardewValley:Object/901",
      "AvailabilityInfo": {
        "BaseChance": 0.02,
        "DepthMultiplier": 0.005,
        "IncludeLocations": ["Sewer"],
        "FarmerPosition": {
          "X": {
            "LessThanEq": 14
          },
          "Y": {
            "LessThanEq": 42
          }
        },
        "When": {
          // The fish has been caught before
          "HasFlag": "TehPers.FishingOverhaul/radioactiveCarpCaught",

          // The fish is no longer normally catchable
          "TehPers.FishingOverhaul/SpecialOrderRuleActive |contains=LEGENDARY_FAMILY": "false",

          // It is no longer on delay
          "HasConversationTopic |contains=TehPers.RecatchableLegendaries/radioactiveCarpDelay": "false"
        }
      },
      "OnCatch": {
        "StartConversations": {
          // Delay for 7 days
          "TehPers.RecatchableLegendaries/radioactiveCarpDelay": 7
        }
      }
    },
    {
      // Glacierfish Jr.
      "FishKey": "StardewValley:Object/902",
      "AvailabilityInfo": {
        "BaseChance": 0.02,
        "DepthMultiplier": 0.005,
        "IncludeLocations": ["Forest"],
        "Seasons": ["Winter"],
        "WaterTypes": ["River"],
        "MinFishingLevel": 6,
        "FarmerPosition": {
          "X": {
            "GreaterThanEq": 58,
            "LessThan": 59
          },
          "Y": {
            "GreaterThanEq": 87,
            "LessThan": 88
          }
        },
        "MinDepth": 3,
        "When": {
          // The fish has been caught before
          "HasFlag": "TehPers.FishingOverhaul/glacierfishJrCaught",

          // The fish is no longer normally catchable
          "TehPers.FishingOverhaul/SpecialOrderRuleActive |contains=LEGENDARY_FAMILY": "false",

          // It is no longer on delay
          "HasConversationTopic |contains=TehPers.RecatchableLegendaries/glacierfishJrDelay": "false"
        }
      },
      "OnCatch": {
        "StartConversations": {
          // Delay for 7 days
          "TehPers.RecatchableLegendaries/glacierfishJrDelay": 7
        }
      }
    }
  ]
}
